{"version":3,"sources":["views/local/ScrapWithCustomProxies.js"],"names":["ScrapWithProxy","useForm","register","handleSubmit","errors","useState","protocol","setProtocol","notifySuccess","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","notifyError","error","newestOnTop","rtl","pauseOnFocusLoss","className","style","backgroundColor","padding","onSubmit","data","obj","list","Myarray","proxy","split","el","IP","substr","indexOf","replace","PORT","push","console","log","arr","n","rest","length","restUsed","partLength","Math","floor","result","i","end","add","slice","splitUp","toSend","keyword","website","proxies","axios","post","then","res","catch","err","Group","class","md","Label","htmlFor","Control","ref","required","name","id","placeholder","color","marginTop","as","rows","validate","value","path","match","onSelect","e","title","selected","variant","type"],"mappings":"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","file":"static/js/42.7946eb54.chunk.js","sourcesContent":["import React, { useState } from \"react\";\n\nimport axios from \"axios\";\nimport { useForm } from \"react-hook-form\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { Button, Form, Container, Col, Row } from \"react-bootstrap\";\n\nfunction ScrapWithProxy() {\n  const { register, handleSubmit, errors } = useForm();\n  const [protocol, setProtocol] = useState(\"Select Protocol\");\n\n  const onSubmit = (data) => {\n    let obj = {};\n    let list = [];\n\n    const proxy = data.proxy;\n    const Myarray = proxy.split(\"\\n\");\n\n    for (var el of Myarray) {\n      obj = {\n        IP: el.substr(0, el.indexOf(\":\")).replace(/\\s/g, \"\"),\n        PORT: el.substr(el.indexOf(\":\") + 1).replace(/\\s/g, \"\"),\n      };\n      list.push(obj);\n    }\n    function splitUp(arr, n) {\n      var rest = arr.length % n, // how much to divide\n        restUsed = rest, // to keep track of the division over the elements\n        partLength = Math.floor(arr.length / n),\n        result = [];\n\n      for (var i = 0; i < arr.length; i += partLength) {\n        var end = partLength + i,\n          add = false;\n\n        if (rest !== 0 && restUsed) {\n          // should add one element for the division\n          end++;\n          restUsed--; // we've used one division element now\n          add = true;\n        }\n\n        result.push(arr.slice(i, end)); // part of the array\n\n        if (add) {\n          i++; // also increment i in the case we added an extra element for division\n        }\n      }\n\n      return result;\n    }\n    console.log(splitUp(list, 4));\n    const toSend = {\n      keyword: data.keyword,\n      website: data.website,\n      protocol: data.protocol,\n      proxies: list,\n    };\n\n    axios\n      .post(\"https://aut2.herokuapp.com/api/runcustomprox\", toSend)\n      .then((res) => {\n        notifySuccess();\n      })\n\n      .catch((err) => {\n        notifyError();\n      });\n  };\n\n  const validateProxy = (value) => {\n    const Myarray = value.split(\"\\n\");\n\n   \n\n    var path = /^(?:(\\w+)(?::(\\w*))@)?([a-zA-Z0-9][a-zA-Z0-9-_]{0,61}[a-zA-Z0-9]{0,1}\\.([a-zA-Z]{1,6}|[a-zA-Z0-9-]{1,30}\\.[a-zA-Z]{2,3})|((?:\\d{1,3})(?:\\.\\d{1,3}){3}))(?::(\\d{1,5}))$/;\n    for (var elTomatch of Myarray) {\n      if (!elTomatch.match(path)) {\n        return false;\n      }\n    }\n    return true;\n\n    //   for (var el of Myarray) {\n    //     obj = {\n    //       IP: el.substr(0, el.indexOf(\":\")).replace(/\\s/g, \"\"),\n    //       PORT: el.substr(el.indexOf(\":\") + 1).replace(/\\s/g, \"\"),\n    //     };\n    //     list.push(obj);\n    //   }\n    //   this.setState({ [e.target.name]: list });\n    //   console.log(list);\n  };\n  const validateDropDownProtocol = (e) => {\n    if (e === \"Select a country\") {\n      return false;\n    }\n    return true;\n  };\n  const handleSelectProtocol = (e) => {\n    console.log(e);\n    setProtocol(e);\n  };\n  const notifySuccess = () =>\n    toast.success(\"The process is starting...\", {\n      position: \"bottom-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: \"undefined\",\n    });\n  const notifyError = () =>\n    toast.error(\"Something goes wrong!\", {\n      position: \"bottom-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n    });\n  return (\n    <>\n      <ToastContainer\n        position=\"bottom-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n      <Container\n        className=\"rounded border\"\n        style={{\n          backgroundColor: \"white\",\n          padding: \"25px\",\n        }}\n      >\n        <Form onSubmit={handleSubmit(onSubmit)}>\n          <Form.Group>\n            <h5 class=\"card-title\">Scraping With Cuctom Proxies</h5>\n            <div class=\"dropdown-divider mb-3\"></div>\n\n            <Row>\n              <Col md=\"3\">\n                <Form.Label htmlFor=\"keyword\">Keyword</Form.Label>\n              </Col>\n              <Col>\n                <Form.Control\n                  ref={register({ required: true })}\n                  name=\"keyword\"\n                  id=\"keyword\"\n                  placeholder=\"Enter Keyword\"\n                />\n                {errors.keyword && (\n                  <p style={{ color: \"red\", marginTop: \"4px\" }}>\n                    Keyword is required\n                  </p>\n                )}\n              </Col>\n            </Row>\n          </Form.Group>\n\n          <Form.Group>\n            <Row>\n              <Col md=\"3\">\n                <Form.Label htmlFor=\"website\">WebSite</Form.Label>\n              </Col>\n              <Col>\n                <Form.Control\n                  ref={register({ required: true })}\n                  name=\"website\"\n                  id=\"website\"\n                  placeholder=\"Enter website\"\n                />\n                {errors.website && (\n                  <p style={{ color: \"red\", marginTop: \"4px\" }}>\n                    Website is Required\n                  </p>\n                )}\n              </Col>\n            </Row>\n          </Form.Group>\n\n          <Form.Group>\n            <Row>\n              <Col md=\"3\">\n                <Form.Label htmlFor=\"proxy\">Proxies</Form.Label>\n              </Col>\n              <Col>\n                <Form.Control\n                  as=\"textarea\"\n                  name=\"proxy\"\n                  id=\"proxy\"\n                  rows=\"10\"\n                  placeholder=\"IP:PORT\"\n                  ref={register({\n                    required: true,\n                    validate: validateProxy,\n                  })}\n                />\n                {errors.proxy && (\n                  <p style={{ color: \"red\", marginTop: \"4px\" }}>\n                    Please Verify your proxy list!\n                  </p>\n                )}\n              </Col>\n            </Row>\n            <Form.Group>\n              <Row>\n                <Col md=\"3\" className=\"mt-2\">\n                  <Form.Label htmlFor=\"country\">Protocol</Form.Label>\n                </Col>\n                <Col>\n                  {\" \"}\n                  <select\n                    style={{ padding: \"8px\" }}\n                    className=\"mt-2\"\n                    onSelect={handleSelectProtocol}\n                    ref={register({\n                      required: true,\n                      validate: validateDropDownProtocol,\n                    })}\n                    title={protocol}\n                    name=\"protocol\"\n                    id=\"protocol\"\n                  >\n                    <option selected=\"selected\" value=\"Select a country\">\n                      Select a Protocol\n                    </option>\n                    <option value=\"http://\">HTTPS/HTTP</option>\n                    <option value=\"socks4://\">SOCKS4</option>\n                    <option value=\"socks5://\">SOCKS5</option>\n                  </select>\n                  {errors.protocol && (\n                    <p style={{ color: \"red\", marginTop: \"4px\" }}>\n                      Please select a Protocol\n                    </p>\n                  )}\n                </Col>\n              </Row>\n            </Form.Group>\n            <Row className=\"mt-2\">\n              <Col md=\"3\"></Col>\n              <Col>\n                <Button variant=\"primary\" type=\"submit\">\n                  Submit\n                </Button>\n                <Button className=\"ml-1\" variant=\"danger\" type=\"reset\">\n                  Reset\n                </Button>\n              </Col>\n            </Row>\n          </Form.Group>\n        </Form>\n      </Container>\n    </>\n  );\n}\n\nexport default ScrapWithProxy;\n"],"sourceRoot":""}